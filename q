warning: LF will be replaced by CRLF in dist/bundle.js.
The file will have its original line endings in your working directory
[1mdiff --git a/dist/bundle.min.js b/dist/bundle.min.js[m
[1mindex 37b1cc4..6180c98 100644[m
[1m--- a/dist/bundle.min.js[m
[1m+++ b/dist/bundle.min.js[m
[36m@@ -1 +1 @@[m
[31m-(()=>{"use strict";(()=>{class e{constructor(e,t,n=!1){this.x=e,this.y=t,this.isOccupied=n}isOccupied;set isOccupied(e){this.isOccupied=e}get isOccupied(){return this.isOccupied}}class t{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(4,2,!0),new e(5,2,!0)]}class n{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(4,2,!0),new e(3,2,!0)]}class r{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(5,1,!0),new e(5,2,!0)]}class o{PIECE=[new e(5,0,!0),new e(5,1,!0),new e(4,1,!0),new e(4,2,!0)]}class i{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(4,2,!0),new e(4,3,!0)]}class c{PIECE=[new e(3,0,!0),new e(4,0,!0),new e(5,0,!0),new e(4,1,!0)]}class a{PIECE=[new e(4,0,!0),new e(5,0,!0),new e(4,1,!0),new e(5,1,!0)]}const l=1,s=0,d=35,u="white",f="black",h=24,g=10,m=3,y="KeyP",w="Highscore not found",p=8,v="tetris.highscore",x={animationTime:140},S="tetris.polarized",E=function(){const l=()=>d(),s=(e,t)=>{t.every((t=>e[t.y][t.x].isOccupied=!0))};function d(){const e=Math.floor(7*Math.random());return 0===e?new t:1===e?new a:2===e?new c:3===e?new n:4===e?new r:5===e?new o:new i}function u(e,t){if(!t.every((t=>t.y<e.length-1)))return s(e,t),-1;for(let e=0;e<t.length;e++)t[e].y++;if(t.some((t=>e[t.y][t.x].isOccupied))){for(let e=0;e<t.length;e++)t[e].y--;return s(e,t),-1}return t}function f(e){return e[0].x==e[2].x&&e[1].x==e[3].x&&e[0].y==e[1].y}function m(e,t){if(f(t))return t;let n;try{if(n=function(e){const t={x:e[1].x,y:e[1].y};let n=[{x:0,y:0},{x:t.x,y:t.y},{x:0,y:0},{x:0,y:0}];for(let r=0;r<e.length;r++){if(1===r)continue;let o=e[r].x-t.x,i=e[r].y-t.y,c=-1===Math.sign(o),a=-1===Math.sign(i);0===o?(n[r].x=a?t.x+Math.abs(i):t.x-Math.abs(i),n[r].y=t.y):0===i?(n[r].x=t.x,n[r].y=c?t.y-Math.abs(o):t.y+Math.abs(o)):c&&a?(n[r].x=t.x+Math.abs(i),n[r].y=t.y-Math.abs(o)):c||a?c&&!a?(n[r].x=t.x-Math.abs(i),n[r].y=t.y-Math.abs(o)):!c&&a&&(n[r].x=t.x+Math.abs(i),n[r].y=t.y+Math.abs(o)):(n[r].x=t.x-Math.abs(i),n[r].y=t.y+Math.abs(o))}return n}(t),y(e,n))return console.log("can't rotate piece"),t;for(let e=0;e<n.length;e++)1!==e&&(t[e].x=n[e].x,t[e].y=n[e].y)}catch{console.log("can't rotate piece")}return t}function y(e,t){return t.some((t=>t.x<0||t.y<e[0].y||t.x>e[0].length-1||t.y>e.length-1||e[t.y][t.x].isOccupied))}function w(t){const n=Array.from({length:10},((t,n)=>new e(n,0)));return t.unshift(n)}function p(e){return 1500/(1.8*e)}return{calculateFps:p,createBoard:function(){return Array.from({length:h},((t,n)=>Array.from({length:g},((t,n)=>new e(n,0)))))},createTestBoard:function(){return Array.from({length:h},((t,n)=>n<20?Array.from({length:g},((t,n)=>new e(n,0))):Array.from({length:g},((t,n)=>n<9?new e(n,0,!0):new e(n,0)))))},newPiece:l,newTestPiece:()=>new i,lockPiece:s,randomPiece:d,isOPiece:f,spaceIsOccupied:y,checkFullRows:function(e){let t=[];for(let n=e.length-1;n>=0;n--){let r=!0;for(let t=0;t<e[n].length;t++)e[n][t].isOccupied||(r=!1);r&&t.push(n)}return t.length&&function(e,t){let n=t.length-1;for(;n>=0;)e.splice(t[n],1),w(e),n--}(e,t),t.length},incrementLevelAfter10Clears:function(e,t){return e>=10&&(e-=10,t++),{trackRowCount:e,level:t}},moveToLevel:function(e){return console.log(`Moving to level ${e}`),p(e)},tryLowerPiece:u,movePiece:function(e,t,n="down"){if(t.length){if("left"===n){if(t.every((e=>e.x>0)))for(let e=0;e<t.length;e++)t[e].x--;if(t.some((t=>e[t.y][t.x].isOccupied))){console.log("cant move there");for(let e=0;e<t.length;e++)t[e].x++}}if("right"===n){if(t.every((t=>t.x<e[0].length-1)))for(let e=0;e<t.length;e++)t[e].x++;if(t.some((t=>e[t.y][t.x].isOccupied))){console.log("cant move there");for(let e=0;e<t.length;e++)t[e].x--}}return"up"==n&&(t=m(e,t)),"down"===n&&(t=u(e,t)),t}},rotatePiece:m,addScore:function(e,t,n){return n+(1===e?40*t:2===e?100*t:3===e?300*t:4===e?1200*t:0)},PieceStack:function(){let e=Array.from({length:5},(e=>l()));this.getStack=function(){return e},this.getPiece=function(){return e.push(l()),e.shift()}}}}();function C(e){const t=e.documentElement;t.style.setProperty("--thickness-canvas-border",m+"px"),t.style.setProperty("--time-first-piece-animation",x.animationTime+"ms");const n=e?.querySelector("#myCanvas"),r=d,o=r*h,i=r*g,c=n.getContext("2d");n.height=o,n.width=i;const a=e.getElementById("score"),l=e.getElementById("finalScore"),s=e.getElementById("lvl"),y=e.getElementById("gOvr"),w=e.getElementById("gamePaused"),p=e.querySelector(".state-info__piece-stack");let v=u,E=JSON.parse(localStorage.getItem(S))||!1;function C(){for(;p.firstChild;)p.firstChild.remove()}function P(e,t){c.beginPath();let n,o,i=""+t/h;E?(n=255-255*i+3*t,o=t>0?n-5*t:n):(n=255*i,o=t>0?n-5*t:n);let a=i<.3?.3:i>.8?.8:i,l=c.createLinearGradient(r*e,r*t,r*e+r,r*t+r),s=`rgb(${n}, ${n}, ${n})`,d=`rgb(${o}, ${o}, ${o})`;l.addColorStop(.2,s),l.addColorStop(a,d),c.fillStyle=l,c.fillRect(r*e,r*t,r,r);c.lineWidth=.1,c.strokeStyle=v,c.strokeRect(.1+r*e,.1+r*t,r-.2,r-.2)}function L(e){for(let t=e.length-1;t>=0;t--)for(let n=0;n<e[t].length;n++)e[t][n].isOccupied&&P(n,t)}function b(e,t){c.clearRect(0,0,n.width,n.height),L(e),function(e){for(let t=e.length-1;t>=0;t--)e[t].isOccupied&&P(e[t].x,e[t].y)}(t)}function k(t){const n=e.querySelector(".state-info__level");for(n.style.display="block";n.firstChild;)n.firstChild.remove();let r=e.createElement("h1");r.innerText=0===t?"":`Level ${t}`,r.id="lvl",n.appendChild(r)}return E&&e.body.classList.add("polarized"),{resetUi:function(e){k(e),playButton.innerText="Play",a.innerText=0,y.setAttribute("style","opacity: 0%"),w.innerText="",l.innerText="",s.setAttribute("style","letter-spacing: 0px background: none opacity: 100")},clearBoard:function(){c.clearRect(0,0,n.width,n.height)},drawBoard:L,drawEverything:b,displayGameOver:function(){y.style.opacity=1},displayFinalScore:function(e){l.innerText="Your score: \n"+e},updateScore:function(e){a.innerText=e},togglePause:function(t){if(console.log("toggling pause"),t){const t=e.querySelector(".state-info__piece-stack > *:first-child");w.innerText="",t.style.animation="var(--animation-first-piece)"}else{const t=e.querySelector(".state-info__piece-stack > *:first-child");w.innerText="PAUSED",t.style.animation="none"}},displayLevelText:k,polarizeHandler:function(e,t,n){if(console.log("handling polarization"),e.classList.contains("polarized")?(v=f,E=!1,JSON.stringify(localStorage.setItem(S,JSON.stringify(!1)))):(v=u,E=!0,JSON.stringify(localStorage.setItem(S,JSON.stringify(!0)))),e.classList.toggle("polarized"),null==t)return b([],[]);b(t,n)},displayPieceStack:function(t){p.style.opacity="1",C();for(let n=0;n<t.length;n++){let r=p.appendChild(e.createElement("div"));r.classList=`${t[n].constructor.name} piece-stack__piece`;for(let o of t[n].PIECE){let t=e.createElement("div"),i=20-2*n;t.className="piece-stack__square",t.style.cssText=`left: ${(o.x-4)*i-10*n}%; top: ${o.y*i+2*n}%; width: ${i}%; height: ${i}%; opacity: ${100-20*n}%;`,r.appendChild(t)}}},removePieceStack:C,animateFirstPiece:function(){let t=e?.querySelector(".piece-stack__piece:first-of-type");if(t){let n=t.cloneNode(!0);n.className="piece-stack__effect-piece",e.querySelector(".tetris-container").appendChild(n),setTimeout((()=>{n.remove()}),x.animationTime)}}}}class P extends Error{}const L=v,b=p||3,k={name:"",score:0};let T;function O(){if(T)return T;try{T=function(){let e,t;for(let n=0;t=window.localStorage.key(n);n++)t==L&&(e=JSON.parse(window.localStorage.getItem(t)));if(e)return e;throw new P(w)}()}catch(e){console.log(e),T=Array.from({length:10},(()=>({...k})))}return T}function A(e){for(console.log("Rendering highscores");e.firstChild;)e.firstChild.remove();let t=document.createElement("div");t.className="highscores";for(let e of O())t.appendChild(M(e.name,e.score));e.appendChild(t)}function M(e,t){let n=document.createElement("div");n.className="highscores__score";let r=document.createElement("span");r.innerText=e||"",n.appendChild(r);let o=document.createElement("span");return o.innerText=t||"",n.appendChild(o),n}function I(e=[]){const t=document.createElement("input");for(let n of e)t.setAttribute(n.name,n.value);return t}const $={checkForHighscore:async function(e,t,n){let r=T.findIndex((e=>e.score<t));return-1!=r?(console.log("New highscore"),function(e,t,n){const r=[...T.slice(0,n),{name:t.name,score:t.score},...T.slice(n,-1)];return T=o=r,function(e){window.localStorage.setItem(L,JSON.stringify(e))}(o),A(e),r;var o}(e,{name:await async function(e){return new Promise(((t,n)=>{const r=document.createElement("form");r.id="highscoreForm",r.className="js-name-form";const o=I([{name:"type",value:"text"},{name:"name",value:"name"},{name:"maxLength",value:b},{name:"placeholder",value:e?.message||`Enter name (max ${b} letter A-B)`}]);r.appendChild(o);const i=I([{name:"type",value:"submit"},{name:"value",value:"Submit"}]);r.appendChild(i),document.querySelector(".page-container").appendChild(r),r.addEventListener("submit",(e=>{e.preventDefault();let r=e.target.name.value;var o;!((o=r).length>b||!/^[a-zA-z]+$/gi.test(o))||(e.target.remove(),n(new Error("Letters only A-Z"))),e.target.remove(),t(r)}))}))}(n),score:t},r)):T},getHighscores:O,renderScores:A};!function(e){const t=C(e);t.resetUi(0),function(e,t){const n="js-arrow-right",r="js-arrow-down",o="js-arrow-left";console.log("Rendering mobile controls");let i=e.createElement("div");i.className="mobile-controls-wrapper",i.innerHTML=`\n    <div class="mobile-controls">\n      <div class="js-rotate">\n        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sync" class="svg-inline--fa fa-sync fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"></path></svg>\n      </div>\n      <div class="${n}">\n        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-right" class="svg-inline--fa fa-arrow-right fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg>\n      </div>\n      <div class="${r}">\n        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-down" class="svg-inline--fa fa-arrow-down fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"></path></svg>\n      </div>\n      <div class="${o}">\n      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg>\n      </div>\n    </div>\n  `,e.body.appendChild(i);const c=e.querySelector(".js-rotate"),a=e.querySelector(`.${n}`),l=e.querySelector(`.${r}`),s=e.querySelector(`.${o}`);var d;function u(e,n=100){t(e),d=setTimeout((()=>{!function(e,t){u(e,t)}(e,n)}),n)}function f(){d&&clearTimeout(d)}c.addEventListener("touchstart",(()=>u("up",400))),a.addEventListener("touchstart",(()=>u("right",200))),l.addEventListener("touchstart",(()=>u("down",100))),s.addEventListener("touchstart",(()=>u("left",400))),c.addEventListener("touchend",f),a.addEventListener("touchend",f),l.addEventListener("touchend",f),s.addEventListener("touchend",f)}(e,S);const n=e.querySelector(".highscore-wrapper");$.renderScores(n);let r,o,i,c,a,d,u,f,h,g=!0;var w;let p;function v(e){u||f?(window.clearTimeout(w),w=null):(S(e),w=P())}let x=Date.now();function S(e){const n=Date.now(),l=(new Date).setMilliseconds(100).getMilliseconds();if(n-x<=l&&e===k[2])for(;-1!==o;)o=E.movePiece(r,o,e);else o=E.movePiece(r,o,e);x=n,-1===o&&(o=p.getPiece().PIECE,t.animateFirstPiece(),t.displayPieceStack(p.getStack()),E.spaceIsOccupied(r,o)&&L());let s=E.checkFullRows(r);d+=s,i=E.addScore(s,c,i),t.updateScore(i),t.drawEverything(r,o),({trackRowCount:d,level:c}=E.incrementLevelAfter10Clears(d,c)),h!=c&&(h=c,a=E.moveToLevel(c),t.displayLevelText(c))}function P(){return window.setTimeout(v,a)}async function L(e=""){console.log("Game over"),f=!0,t.displayGameOver(),t.displayFinalScore(i),t.removePieceStack(),T.innerText="Play",n.classList.add("game-over"),await $.checkForHighscore(n,i,e).catch((e=>{console.log(e),L(e)}))}function b(){return u?w=P():(window.clearTimeout(w),w=null),t.togglePause(u),u=!u}const k=["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"];e.addEventListener("keydown",(e=>{if(!f&&!g)if(k.includes(e.code)){if(u)return;const t=e.code.slice(5).toLowerCase();window.requestAnimationFrame(S(t))}else e.code!=y||b()}));const T=e.getElementById("playButton");T.onclick=()=>{console.log("initializing"),null!=w&&(window.clearTimeout(w),w=null),g&&(e.querySelector(".scoreboard").style.transform="translateY(0)",g=!1),p=new E.PieceStack,r=E.createBoard(),o=p.getPiece().PIECE,i=s,c=l,a=E.calculateFps(c),d=0,u=!1,f=!1,h=c,[...n.classList].includes("game-over")&&n.classList.remove("game-over"),t.displayPieceStack(p.getStack()),t.resetUi(c),t.drawEverything(r,o),console.log("Game started"),w=P(),T.innerText="Restart"},e.querySelector("#pauseButton").onclick=()=>{f||g||b()},e.querySelector("#themeSwitch").onclick=()=>t.polarizeHandler(e.body,r,o,p?.getStack());const O=e.querySelector(".tetris-container"),A=e.querySelector("#myCanvas");window.onload=()=>{O.style.width=`${A.clientWidth+2*m}px`},window.onresize=()=>{O.style.width=`${A.clientWidth+2*m}px`}}(document)})()})();[m
\ No newline at end of file[m
[32m+[m[32m(()=>{"use strict";(()=>{class e{constructor(e,t,n=!1){this.x=e,this.y=t,this.isOccupied=n}isOccupied;set isOccupied(e){this.isOccupied=e}get isOccupied(){return this.isOccupied}}class t{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(4,2,!0),new e(5,2,!0)]}class n{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(4,2,!0),new e(3,2,!0)]}class r{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(5,1,!0),new e(5,2,!0)]}class o{PIECE=[new e(5,0,!0),new e(5,1,!0),new e(4,1,!0),new e(4,2,!0)]}class i{PIECE=[new e(4,0,!0),new e(4,1,!0),new e(4,2,!0),new e(4,3,!0)]}class l{PIECE=[new e(3,0,!0),new e(4,0,!0),new e(5,0,!0),new e(4,1,!0)]}class a{PIECE=[new e(4,0,!0),new e(5,0,!0),new e(4,1,!0),new e(5,1,!0)]}const c=1,s=0,u=35,d="white",f="black",h=24,g=10,m=0,y="KeyP",w="Highscore not found",p=8,v="tetris.highscore",x={animationTime:140},S="tetris.polarized",E=function(){const c=()=>u(),s=(e,t)=>{t.every((t=>e[t.y][t.x].isOccupied=!0))};function u(){const e=Math.floor(7*Math.random());return 0===e?new t:1===e?new a:2===e?new l:3===e?new n:4===e?new r:5===e?new o:new i}function d(e,t){if(!t.every((t=>t.y<e.length-1)))return s(e,t),[];for(let e=0;e<t.length;e++)t[e].y++;if(t.some((t=>e[t.y][t.x].isOccupied))){for(let e=0;e<t.length;e++)t[e].y--;return s(e,t),[]}return t}function f(e){return e[0].x==e[2].x&&e[1].x==e[3].x&&e[0].y==e[1].y}function m(e,t){if(f(t))return t;let n;try{if(n=function(e){const t={x:e[1].x,y:e[1].y};let n=[{x:0,y:0},{x:t.x,y:t.y},{x:0,y:0},{x:0,y:0}];for(let r=0;r<e.length;r++){if(1===r)continue;let o=e[r].x-t.x,i=e[r].y-t.y,l=-1===Math.sign(o),a=-1===Math.sign(i);0===o?(n[r].x=a?t.x+Math.abs(i):t.x-Math.abs(i),n[r].y=t.y):0===i?(n[r].x=t.x,n[r].y=l?t.y-Math.abs(o):t.y+Math.abs(o)):l&&a?(n[r].x=t.x+Math.abs(i),n[r].y=t.y-Math.abs(o)):l||a?l&&!a?(n[r].x=t.x-Math.abs(i),n[r].y=t.y-Math.abs(o)):!l&&a&&(n[r].x=t.x+Math.abs(i),n[r].y=t.y+Math.abs(o)):(n[r].x=t.x-Math.abs(i),n[r].y=t.y+Math.abs(o))}return n}(t),y(e,n))return console.log("can't rotate piece"),t;for(let e=0;e<n.length;e++)1!==e&&(t[e].x=n[e].x,t[e].y=n[e].y)}catch{console.log("can't rotate piece")}return t}function y(e,t){return t.some((t=>t.x<0||t.y<e[0].y||t.x>e[0].length-1||t.y>e.length-1||e[t.y][t.x].isOccupied))}function w(t){const n=Array.from({length:10},((t,n)=>new e(n,0)));return t.unshift(n)}function p(e){return 1600/(1.8*e)}return{calculateFps:p,createBoard:function(){return Array.from({length:h},((t,n)=>Array.from({length:g},((t,n)=>new e(n,0)))))},createTestBoard:function(t){return Array.from({length:h},((n,r)=>r<t?Array.from({length:g},((t,n)=>new e(n,0))):Array.from({length:g},((t,n)=>n<9?new e(n,0,!0):new e(n,0)))))},newPiece:c,newTestPiece:()=>new i,lockPiece:s,randomPiece:u,isOPiece:f,spaceIsOccupied:y,checkFullRows:function(e){let t=[];for(let n=e.length-1;n>=0;n--){let r=!0;for(let t=0;t<e[n].length;t++)e[n][t].isOccupied||(r=!1);r&&t.push(n)}return t.length&&function(e,t){let n=t.length-1;for(;n>=0;)e.splice(t[n],1),w(e),n--}(e,t),t},incrementLevelAfter10Clears:function(e,t){return e>=10&&(e-=10,t++),{trackRowCount:e,level:t}},moveToLevel:function(e){return console.log(`Moving to level ${e}`),p(e)},tryLowerPiece:d,movePiece:function(e,t,n="down"){if(t.length){if("left"===n){if(t.every((e=>e.x>0)))for(let e=0;e<t.length;e++)t[e].x--;if(t.some((t=>e[t.y][t.x].isOccupied))){console.log("cant move there");for(let e=0;e<t.length;e++)t[e].x++}}if("right"===n){if(t.every((t=>t.x<e[0].length-1)))for(let e=0;e<t.length;e++)t[e].x++;if(t.some((t=>e[t.y][t.x].isOccupied))){console.log("cant move there");for(let e=0;e<t.length;e++)t[e].x--}}return"up"==n&&(t=m(e,t)),"down"===n&&(t=d(e,t)),t}},rotatePiece:m,addScore:function(e,t,n){return n+(1===e?40*t:2===e?100*t:3===e?300*t:4===e?1200*t:0)},getTarget:function(e,t){let n=e.reduce(((e,t,n)=>(t.forEach(((t,r)=>{t.isOccupied&&n<e[r]&&(e[r]=n)})),e)),Array.from({length:e[0].length},(()=>e.length)));console.log(n)},PieceStack:function(){let e=Array.from({length:5},(e=>c()));this.getStack=function(){return e},this.getPiece=function(){return e.push(c()),e.shift()}}}}();function b(e){const t=e.documentElement;t.style.setProperty("--thickness-canvas-border",m+"px"),t.style.setProperty("--time-first-piece-animation",x.animationTime+"ms");const n=e?.querySelector("#myCanvas"),r=u,o=r*h,i=r*g,l=h,a=n.getContext("2d");n.height=o,n.width=i;const c=e.getElementById("score"),s=e.getElementById("finalScore"),y=e.getElementById("lvl"),w=e.getElementById("gOvr"),p=e.getElementById("gamePaused"),v=e.querySelector(".state-info__piece-stack");let E=d,b=JSON.parse(localStorage.getItem(S))||!1;function C(){for(;v.firstChild;)v.firstChild.remove()}function P(e,t,n=!1,o=!1){let i=n?.1:1;a.beginPath();let l,c,s=""+t/2/h;if(b?(l=255-255*s,c=l):(l=250*s,c=l),n){if(!o){const e="rgb(45, 45, 45)",t="rgb(210,210,210)",n=b?e:t;a.fillStyle=n}}else{let n=.3,o=1,s=a.createLinearGradient(r*e,r*t,r*e+r,r*t+r),u=`rgba(${l}, ${l}, ${l}, ${i})`,d=`rgba(${c}, ${c}, ${c}, ${i})`;s.addColorStop(n,u),s.addColorStop(o,d),a.fillStyle=u}if(o||a.fillRect(r*e,r*t,r,r),!n){let n=.1;a.lineWidth=n;let o=b?0+8*t:255-8*t;a.strokeStyle=`rgba(${o},${o},${o},${t*(t/h)})`,a.strokeRect(n+r*e,n+r*t,r-2*n,r-2*n)}}function L(e){if(null!=e)for(let t=e.length-1;t>=0;t--)for(let n=0;n<e[t].length;n++)e[t][n].isOccupied?P(n,t):P(n,t,!1,!0)}function k(e,t){a.clearRect(0,0,n.width,n.height),L(e);let r=e.reduce(((t,n,r)=>{for(let o=1;o<=n.length;o++)e[r][o-1].isOccupied&&t[o]>r&&(t[o]=r);return t}),Array.from({length:11},(()=>24)));r.shift();let o=t.reduce(((e,t)=>(e[t.x]?e[t.x]<t.y&&(e[t.x]=t.y):e[t.x]=t.y,e)),{});!function(e,t){for(let n=e.length-1;n>=0;n--)P(e[n].x,e[n].y+t-1,!0);for(let t=e.length-1;t>=0;t--)e[t].isOccupied&&P(e[t].x,e[t].y)}(t,Object.keys(o).reduce(((e,t)=>{let n=r[t]-o[t];return n<e&&(e=n),e}),24))}function T(t){const n=e.querySelector(".state-info__level");for(n.style.display="block";n.firstChild;)n.firstChild.remove();let r=e.createElement("h1");r.innerText=0===t?"":`Level ${t}`,r.id="lvl",n.appendChild(r)}return b&&e.body.classList.add("polarized"),{resetUi:function(e){T(e),n.style.filter="blur(0em)",playButton.innerText="Play",c.innerText=0,w.setAttribute("style","opacity: 0%"),p.innerText="",s.innerText="",y.setAttribute("style","letter-spacing: 0px background: none opacity: 100")},clearBoard:function(){a.clearRect(0,0,n.width,n.height)},drawBoard:L,drawEverything:k,displayGameOver:function(){w.style.opacity=1,e.querySelector(".game-over-text__game"),e.querySelector(".game-over-text__over")},displayFinalScore:function(e){s.innerText="Your score: \n"+e},updateScore:function(e){c.innerText=e},togglePause:function(t){if(console.log("toggling pause"),t){n.style.filter="blur(0em)";const t=e.querySelector(".state-info__piece-stack > *:first-child");p.innerText="",t.style.animation="var(--animation-first-piece)"}else{n.style.filter="blur(.5em)";const t=e.querySelector(".state-info__piece-stack > *:first-child");p.innerText="PAUSED",t.style.animation="none"}},displayLevelText:T,polarizeHandler:function(e,t,n){if(console.log("handling polarization"),e.classList.contains("polarized")?(E=f,b=!1,JSON.stringify(localStorage.setItem(S,JSON.stringify(!1)))):(E=d,b=!0,JSON.stringify(localStorage.setItem(S,JSON.stringify(!0)))),e.classList.toggle("polarized"),null==t)return k([],[]);k(t,n)},displayPieceStack:function(t){v.style.opacity="1",C();for(let n=0;n<t.length;n++){let r=v.appendChild(e.createElement("div"));r.classList=`${t[n].constructor.name} piece-stack__piece`;for(let o of t[n].PIECE){let t=e.createElement("div"),i=20-4*n;t.className="piece-stack__square",t.style.cssText=`left: ${(o.x-4)*i-20*n}%; top: ${o.y*i+10*n}%; width: ${i}%; height: ${i}%; filter: blur(.${n}1em);`,t.style.opacity=n>0?"."+(40-7*n):".80",r.appendChild(t)}}},removePieceStack:C,animateFirstPiece:function(){let t=e?.querySelector(".piece-stack__piece:first-of-type");if(t){let n=t.cloneNode(!0);n.className="piece-stack__effect-piece",e.querySelector(".tetris-container").appendChild(n),setTimeout((()=>{n.remove()}),x.animationTime)}},rowRemovalAnimations:function(t){console.log("drawing removal animations");for(let n=0;n<t.length;n++){let r=e.querySelector(".state-info"),o=r.clientHeight/l,i=r.clientWidth,a=e.createElement("div");console.log(t[n]);let c=5,s=b?255-t[n]*c:t[n]*c;a.style.cssText=`opacity: 0; position: absolute; z-index: -1000; top: ${o*t[n]}; width: ${i}; height: ${o}; background: rgb(${s}, ${s}, ${s});\n      animation: piece-removal-animation ease-in-out forwards;`,a.style.animationDuration="700ms",a.style.border="1px solid black",r.appendChild(a),setTimeout((()=>{a.remove()}),700)}}}}class C extends Error{}const P=v,L=p||3,k={name:"",score:0};let T;function $(){if(T)return T;try{T=function(){let e,t;for(let n=0;t=window.localStorage.key(n);n++)t==P&&(e=JSON.parse(window.localStorage.getItem(t)));if(e)return e;throw new C(w)}()}catch(e){console.log(e),T=Array.from({length:10},(()=>({...k})))}return T}function A(e){for(console.log("Rendering highscores");e.firstChild;)e.firstChild.remove();let t=document.createElement("div");t.className="highscores";for(let e of $())t.appendChild(O(e.name,e.score));e.appendChild(t)}function O(e,t){let n=document.createElement("div");n.className="highscores__score";let r=document.createElement("span");r.innerText=e||"",n.appendChild(r);let o=document.createElement("span");return o.innerText=t||"",n.appendChild(o),n}function q(e=[]){const t=document.createElement("input");for(let n of e)t.setAttribute(n.name,n.value);return t}const I={checkForHighscore:async function(e,t,n){let r=T.findIndex((e=>e.score<t));return-1!=r?(console.log("New highscore"),function(e,t,n){const r=[...T.slice(0,n),{name:t.name,score:t.score},...T.slice(n,-1)];return T=o=r,function(e){window.localStorage.setItem(P,JSON.stringify(e))}(o),A(e),r;var o}(e,{name:await async function(e){return new Promise(((t,n)=>{const r=document.createElement("form");r.id="highscoreForm",r.className="js-name-form";const o=q([{name:"type",value:"text"},{name:"name",value:"name"},{name:"maxLength",value:L},{name:"placeholder",value:e?.message||`Enter name (max ${L} letter A-B)`}]);r.appendChild(o);const i=q([{name:"type",value:"submit"},{name:"value",value:"Submit"}]);r.appendChild(i),document.querySelector(".page-container").appendChild(r),r.addEventListener("submit",(e=>{e.preventDefault();let r=e.target.name.value;var o;!((o=r).length>L||!/^[a-zA-z]+$/gi.test(o))||(e.target.remove(),n(new Error("Letters only A-Z"))),e.target.remove(),t(r)}))}))}(n),score:t},r)):T},getHighscores:$,renderScores:A};!function(e,t){const n=b(e);n.resetUi(0),function(e,t){const n="js-arrow-right",r="js-arrow-down",o="js-arrow-left";console.log("Rendering mobile controls");let i=e.createElement("div");i.className="mobile-controls-wrapper",i.innerHTML=`\n    <div class="mobile-controls">\n      <div class="js-rotate">\n        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sync" class="svg-inline--fa fa-sync fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"></path></svg>\n      </div>\n      <div class="${n}">\n        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-right" class="svg-inline--fa fa-arrow-right fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg>\n      </div>\n      <div class="${r}">\n        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-down" class="svg-inline--fa fa-arrow-down fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"></path></svg>\n      </div>\n      <div class="${o}">\n      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg>\n      </div>\n    </div>\n  `,e.body.appendChild(i);const l=e.querySelector(".js-rotate"),a=e.querySelector(`.${n}`),c=e.querySelector(`.${r}`),s=e.querySelector(`.${o}`);var u;function d(e,n=100){t(e),u=setTimeout((()=>{!function(e,t){d(e,t)}(e,n)}),n)}function f(){u&&clearTimeout(u)}l.addEventListener("touchstart",(()=>d("up",400))),a.addEventListener("touchstart",(()=>d("right",200))),c.addEventListener("touchstart",(()=>d("down",100))),s.addEventListener("touchstart",(()=>d("left",400))),l.addEventListener("touchend",f),a.addEventListener("touchend",f),c.addEventListener("touchend",f),s.addEventListener("touchend",f)}(e,C);const r=e.querySelector(".highscore-wrapper");I.renderScores(r);let o,i,l,a,u,d,f,h,g,w=!0;var p;let v,x;function S(e){f||h?(window.clearTimeout(p),p=null):(window.requestAnimationFrame((()=>C(e,!1))),p=P())}function C(e,t=!1){if(t)for(;i.length;)i=E.movePiece(o,i,e);else i=E.movePiece(o,i,e);i.length||(i=v.getPiece().PIECE,n.animateFirstPiece(),n.displayPieceStack(v.getStack()),E.spaceIsOccupied(o,i)&&T());let r=E.checkFullRows(o);r.length&&n.rowRemovalAnimations(r);let c=r.length;d+=c,l=E.addScore(c,a,l),n.updateScore(l),n.drawEverything(o,i),({trackRowCount:d,level:a}=E.incrementLevelAfter10Clears(d,a)),g!=a&&(g=a,u=E.moveToLevel(a),n.displayLevelText(a))}function P(){return window.setTimeout(S,u)}function L(){console.log("in timeout"),i&&!x&&(x=E.getTarget(o,i)),f||k()}function k(){return window.setTimeout(L,400)}async function T(e=""){console.log("Game over"),h=!0,n.displayGameOver(),n.displayFinalScore(l),n.removePieceStack(),O.innerText="Play",r.classList.add("game-over"),await I.checkForHighscore(r,l,e).catch((e=>{console.log(e),T(e)}))}function $(){return f?p=P():(window.clearTimeout(p),p=null),n.togglePause(f),f=!f}const A=["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"];e.addEventListener("keydown",(e=>{if(!h&&!w)if("Space"!=e.code||f)if(A.includes(e.code)){if(f)return;const t=e.code.slice(5).toLowerCase();window.requestAnimationFrame((()=>C(t,!1)))}else e.code!=y||$();else window.requestAnimationFrame((()=>C("down",!0)))}));const O=e.getElementById("playButton");O.onclick=()=>{O.blur(),console.log("initializing"),null!=p&&(window.clearTimeout(p),p=null),w&&(e.querySelector(".scoreboard").style.opacity="1",w=!1),v=new E.PieceStack,o=E.createBoard(),i=v.getPiece().PIECE,l=s,a=c,u=E.calculateFps(a),d=0,f=!1,h=!1,g=a,[...r.classList].includes("game-over")&&r.classList.remove("game-over"),n.displayPieceStack(v.getStack()),n.resetUi(a),n.drawEverything(o,i),console.log("Game started"),k(),p=P(),O.innerText="Restart"},e.querySelector("#pauseButton").onclick=()=>{h||w||$()},e.querySelector("#themeSwitch").onclick=()=>n.polarizeHandler(e.body,o,i,v?.getStack());const q=e.querySelector(".tetris-container"),M=e.querySelector("#myCanvas");window.onload=()=>{q.style.width=`${M.clientWidth+2*m}px`},window.onresize=()=>{q.style.width=`${M.clientWidth+2*m}px`}}(document)})()})();[m
\ No newline at end of file[m
[1mdiff --git a/dist/index.html b/dist/index.html[m
[1mindex 3c8d5a8..8766d44 100644[m
[1m--- a/dist/index.html[m
[1m+++ b/dist/index.html[m
[36m@@ -1,28 +1,4 @@[m
[31m-<!DOCTYPE html5>[m
[31m-[m
[31m-<head>[m
[31m-  <title>Tetris</title>[m
[31m-  <meta name="viewport" content="width=device-width, initial-scale=1.0">[m
[31m-  <meta charset="UTF-8">[m
[31m-  <link rel="preconnect" href="https://fonts.gstatic.com">[m
[31m-  <link href="https://fonts.googleapis.com/css2?family=Mate+SC&display=swap" rel="stylesheet">[m
[31m-  <link rel="preconnect" href="https://fonts.gstatic.com">[m
[31m-  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">[m
[31m-<script defer src="bundle.js"></script><link href="style.css" rel="stylesheet"></head>[m
[31m-[m
[31m-<body>[m
[31m-  <div class="page-container">[m
[31m-    <!-- <img class="background-img" src="tree.svg" alt=""> -->[m
[31m-    <svg class="background-img" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"[m
[31m-	 viewBox="284.0014 -24.8982 1991.9987 1650.4712" enable-background="new 284.0014 -24.8982 1991.9987 1650.4712"[m
[31m-	 xml:space="preserve">[m
[31m-    <g>[m
[31m-      <!-- <path class="background-img-fill" fill="#010101" d="M2204.5391,1551.95"/>[m
[31m-      <path class="background-img-fill" fill="#010101" d="M2200.8662,1555.5739"/>[m
[31m-      <path class="background-img-fill" fill="#010101" d="M2239.6616,1578c-4.9849-6.2275-10.2566-12.244-15.749-18.0358c-0.1338,2.079-0.2307,4.1821-0.292,6.2976 -->[m
[31m-      <path class="background-img-fill" d="M2204.5391,1551.95"/>[m
[31m-      <path class="background-img-fill" d="M2200.8662,1555.5739"/>[m
[31m-      <path class="background-img-fill" d="M2239.6616,1578c-4.9849-6.2275-10.2566-12.244-15.749-18.0358c-0.1338,2.079-0.2307,4.1821-0.292,6.2976[m
[32m+[m[32m<!doctype html><head><title>Tetris</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="UTF-8"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Mate+SC&display=swap" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet"><script defer="defer" src="bundle.min.js"></script><link href="style.css" rel="stylesheet"></head><body><div class="page-container"><svg class="background-img" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="284.0014 -24.8982 1991.9987 1650.4712" enable-background="new 284.0014 -24.8982 1991.9987 1650.4712" xml:space="preserve"><g><path class="background-img-fill" d="M2204.5391,1551.95"/><path class="background-img-fill" d="M2200.8662,1555.5739"/><path class="background-img-fill" d="M2239.6616,1578c-4.9849-6.2275-10.2566-12.244-15.749-18.0358c-0.1338,2.079-0.2307,4.1821-0.292,6.2976[m
         c-0.802-0.0609-2.4189-0.1945-3.2217-0.2554c-0.2065-3.1002-0.1216-6.2125-0.5713-9.252c-3.781,3.392-4.79,10.0665-10.4675,10.9053[m
         c-0.4133-3.1365-0.3162-6.2853-0.6079-9.3977c-0.1184-0.9427-3.3528-1.2556-5.9534-1.3558l0.0439,2.2943l-1.2698-2.3298[m
         c-1.1726-0.0208-2.0171-0.0037-2.0171-0.0037l1.3103-1.2932l-2.4756-4.5427l-4.1304,0.1172l-4.043,2.3658l-4.4385-3.7397[m
[36m@@ -2438,100 +2414,4 @@[m
         c-0.0972,3.3434-0.5957,6.6136-3.5378,8.729c-3.9147-7.2579-3.4163-15.6952-2.7112-23.6097[m
         c1.6293-4.3646,4.1946-8.3036,6.1274-12.5222c0.6808-1.921,2.3101-3.1124,3.9269-4.1821c0.9362,2.1033,1.6412,4.413,3.0028,6.3462[m
         c2.9301-0.2917,5.7141-1.3618,8.6199-1.848c2.0911,4.5226,1.386,10.5161-3.2948,13.1058[m
[31m-        C1796.6377,1493.8396,1791.9448,1498.7512,1790.0969,1504.8542z"/>[m
[31m-    </g>[m
[31m-    </svg>[m
[31m-    <div class="tetris-container">[m
[31m-      <div class="tetris__header">[m
[31m-        <a href="#" id="themeSwitch">[m
[31m-          <div class="theme-switch__background"></div>[m
[31m-          <div class="theme-switch-icon"></div>[m
[31m-          <span class="icon-text">polarize</span>[m
[31m-        </a>[m
[31m-        <div class="theme-switch__cloud1"></div>[m
[31m-        <div class="theme-switch__cloud2"></div>[m
[31m-        <div class="theme-switch__cloud2"></div>[m
[31m-        <h1>[m
[31m-          TETRIS[m
[31m-        </h1>[m
[31m-      </div>[m
[31m-[m
[31m-      <div class="highscore-wrapper"></div>[m
[31m-[m
[31m-      <canvas id="myCanvas"></canvas>[m
[31m-[m
[31m-      <div class="state-info">[m
[31m-[m
[31m-        <div class="state-info__level">[m
[31m-          <h1 id="lvl">[m
[31m-            <!--[m
[31m-                          Update current level here[m
[31m-                      -->[m
[31m-          </h1>[m
[31m-        </div>[m
[31m-        <h2 id="gamePaused">[m
[31m-          <!--[m
[31m-                        Game paused here[m
[31m-                    -->[m
[31m-        </h2>[m
[31m-        <div class="state-info__game-over">[m
[31m-          <h1 id="gOvr" class="game-over-text">[m
[31m-            <span class="game-over-text__game">GAME</span> [m
[31m-            <span class="game-over-text__over">OVER</span>[m
[31m-            [m
[31m-          </h1>[m
[31m-          <h2 id="finalScore">[m
[31m-            <!--[m
[31m-                          Update final score here[m
[31m-                      -->[m
[31m-          </h2>[m
[31m-        </div>[m
[31m-      </div>[m
[31m-[m
[31m-      <div class="game-info">[m
[31m-        <div class="game-info__content">[m
[31m-[m
[31m-          <div class="state-info__piece-stack"></div>[m
[31m-[m
[31m-          <div class="scoreboard">[m
[31m-            <h2 class="scoreboard__score-text">[m
[31m-              Score[m
[31m-            </h2>[m
[31m-            <h2 id="score">[m
[31m-            </h2>[m
[31m-          </div>[m
[31m-          <ul class="game-info__controls">[m
[31m-            <li class="game-info__description_content">[m
[31m-              <span class="control-description-wrapper">Pause</span>[m
[31m-              <span class="press-highlight">Press</span><div class="key-highlight">P</div>[m
[31m-            </li>[m
[31m-            <li class="game-info__description_content">[m
[31m-              <span class="control-description-wrapper">Drop piece</span>[m
[31m-              <span class="press-highlight">Press</span><div class="key-highlight">Space</div>[m
[31m-            </li>[m
[31m-            <li class="controls__arrowkeys controls__control">[m
[31m-              <div class="arrowkeys__left">[m
[31m-                <div class="arrow"></div>[m
[31m-              </div>[m
[31m-              <div class="arrowkeys__down">[m
[31m-                <div class="arrow"></div>[m
[31m-              </div>[m
[31m-              <div class="arrowkeys__right">[m
[31m-                <div class="arrow"></div>[m
[31m-              </div>[m
[31m-              <div class="arrowkeys__up">[m
[31m-                <div class="arrow"></div>[m
[31m-              </div>[m
[31m-            </li>[m
[31m-            <li>[m
[31m-            </li>[m
[31m-          </ul>[m
[31m-          <button id="playButton" onkeypress="event.preventDefault()"></button>[m
[31m-          <button id="pauseButton" onkeypress="event.preventDefault()">Pause</button>[m
[31m-        </div>[m
[31m-      </div>[m
[31m-    </div>[m
[31m-[m
[31m-[m
[31m-  </div>[m
[31m-</body>[m
\ No newline at end of file[m
[32m+[m[32m        C1796.6377,1493.8396,1791.9448,1498.7512,1790.0969,1504.8542z"/></g></svg><div class="tetris-container"><div class="tetris__header"><a href="#" id="themeSwitch"><div class="theme-switch__background"></div><div class="theme-switch-icon"></div><span class="icon-text">polarize</span></a><div class="theme-switch__cloud1"></div><div class="theme-switch__cloud2"></div><div class="theme-switch__cloud2"></div><h1>TETRIS</h1></div><div class="highscore-wrapper"></div><canvas id="myCanvas"></canvas><div class="state-info"><div class="state-info__level"><h1 id="lvl"></h1></div><h2 id="gamePaused"></h2><div class="state-info__game-over"><h1 id="gOvr" class="game-over-text"><span class="game-over-text__game">GAME</span> <span class="game-over-text__over">OVER</span></h1><h2 id="finalScore"></h2></div></div><div class="game-info"><div class="game-info__content"><div class="state-info__piece-stack"></div><div class="scoreboard"><h2 class="scoreboard__score-text">Score</h2><h2 id="score"></h2></div><ul class="game-info__controls"><li class="game-info__description_content"><span class="control-description-wrapper">Pause</span> <span class="press-highlight">Press</span><div class="key-highlight">P</div></li><li class="game-info__description_content"><span class="control-description-wrapper">Drop piece</span> <span class="press-highlight">Press</span><div class="key-highlight">Space</div></li><li class="controls__arrowkeys controls__control"><div class="arrowkeys__left"><div class="arrow"></div></div><div class="arrowkeys__down"><div class="arrow"></div></div><div class="arrowkeys__right"><div class="arrow"></div></div><div class="arrowkeys__up"><div class="arrow"></div></div></li><li></li></ul><button id="playButton" onkeypress="event.preventDefault()"></button> <button id="pauseButton" onkeypress="event.preventDefault()">Pause</button></div></div></div></div></body>[m
\ No newline at end of file[m
